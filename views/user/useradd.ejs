
<!DOCTYPE html>
<html lang="en">
<%  include ../partial/head %>
<body>
	<div class="wrapper">
		<div class="main-header">
<% include ../partial/header%>
<% include ../partial/navbar%>

		</div>
<% include ../partial/sidebar%>
		<div class="main-panel">
			<div class="content">
				<div class="row">
					<div class="col-md-12">
						<div class="card">
							<div class="card-header">
								<div class="card-title">User Add</div>
							</div>
							<div class="card-body">
								<div class="row">
									<div class="col-md-8 col-lg-8">
										<form name="frm" class="" action="/users/useradd" id="myform" method="post">
                      <div class="form-group">
												<label for="name">User Name</label>
												<input type="text" name="name" class="form-control" id="name" placeholder="Name">
											</div>
											<div class="form-group">
												<label for="email">Email Address</label>
												<input type="email" class="form-control"  name="email"  id="email" placeholder="Enter Email">
												<small id="emailHelp2" class="form-text text-muted">We'll never share your email with anyone else.</small>
											</div>
											<div class="form-group">
												<label for="pwd">Password</label>
												<input type="password" name="pwd" class="form-control" id="pwd" placeholder="Password">
											</div>

												<div class="card-action">
													<button type="submit"  id="sub" class="btn btn-success">Add</button>
													<button class="btn btn-danger">Cancel</button>
												</div>
									</div>

								</form>
								</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		<% include ../partial/footer %>
		</div>

		<!-- Custom template | don't include it in your project! -->
		<div class="custom-template">
			<div class="title">Settings</div>
			<div class="custom-content">
				<div class="switcher">
					<div class="switch-block">
						<h4>Logo Header</h4>
						<div class="btnSwitch">
							<button type="button" class="changeLogoHeaderColor" data-color="dark"></button>
							<button type="button" class="selected changeLogoHeaderColor" data-color="blue"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="purple"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="light-blue"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="green"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="orange"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="red"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="white"></button>
							<br/>
							<button type="button" class="changeLogoHeaderColor" data-color="dark2"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="blue2"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="purple2"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="light-blue2"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="green2"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="orange2"></button>
							<button type="button" class="changeLogoHeaderColor" data-color="red2"></button>
						</div>
					</div>
					<div class="switch-block">
						<h4>Navbar Header</h4>
						<div class="btnSwitch">
							<button type="button" class="changeTopBarColor" data-color="dark"></button>
							<button type="button" class="changeTopBarColor" data-color="blue"></button>
							<button type="button" class="changeTopBarColor" data-color="purple"></button>
							<button type="button" class="changeTopBarColor" data-color="light-blue"></button>
							<button type="button" class="changeTopBarColor" data-color="green"></button>
							<button type="button" class="changeTopBarColor" data-color="orange"></button>
							<button type="button" class="changeTopBarColor" data-color="red"></button>
							<button type="button" class="changeTopBarColor" data-color="white"></button>
							<br/>
							<button type="button" class="changeTopBarColor" data-color="dark2"></button>
							<button type="button" class="selected changeTopBarColor" data-color="blue2"></button>
							<button type="button" class="changeTopBarColor" data-color="purple2"></button>
							<button type="button" class="changeTopBarColor" data-color="light-blue2"></button>
							<button type="button" class="changeTopBarColor" data-color="green2"></button>
							<button type="button" class="changeTopBarColor" data-color="orange2"></button>
							<button type="button" class="changeTopBarColor" data-color="red2"></button>
						</div>
					</div>
					<div class="switch-block">
						<h4>Sidebar</h4>
						<div class="btnSwitch">
							<button type="button" class="selected changeSideBarColor" data-color="white"></button>
							<button type="button" class="changeSideBarColor" data-color="dark"></button>
							<button type="button" class="changeSideBarColor" data-color="dark2"></button>
						</div>
					</div>
					<div class="switch-block">
						<h4>Background</h4>
						<div class="btnSwitch">
							<button type="button" class="changeBackgroundColor" data-color="bg2"></button>
							<button type="button" class="changeBackgroundColor selected" data-color="bg1"></button>
							<button type="button" class="changeBackgroundColor" data-color="bg3"></button>
							<button type="button" class="changeBackgroundColor" data-color="dark"></button>
						</div>
					</div>
				</div>
			</div>
			<div class="custom-toggle">
				<i class="flaticon-settings"></i>
			</div>
		</div>
		<!-- End Custom template -->
	</div>
  <% include ../partial/script %>

</body>

<script src="/javascripts/jquery-3.4.1.js">
</script>
<script src="/javascripts/jquery.validate.min.js" charset="utf-8"></script>
<script type="text/javascript">
$('#email').blur(function(){
  var data = {email:$('#email').val()};
  if(data.email != ''){
  $.ajax({url:'/duemail',data:data,type:'POST',
  success:function(result){
    if(result.status){
      alert('duplicate email or invalid email');
      $('#email').val('');
      $('#email').focus();

    }
  }
})
}
})
$('#myform').validate({
rules:{
name:{
  required:true,
  minlength:3,
  maxlength:20
},
email:{
  required:true,
  emailExt:true
},
pwd:{
  required:true,
  minlength:6,
  maxlength:20,
  pwcheck:true
}
},
messages:{
name:{
  required:'User name field is required ',
      },
email:{
  required:'User email is required'
},
pwd:{
  required:'Password field is required',
  pwcheck:'Please enter 1 uppercase, 1 lowercase, 1 digit'

},
maxlength:$.validator.format("Plz Insert max {0} character"),
minlength:$.validator.format("Plz Insert atleast {0} character"),

}
})
jQuery.validator.addMethod("emailExt", function(value, element, param) {
return value.match(/^[a-zA-Z0-9_\.%\+\-]+@[a-zA-Z0-9\.\-]+\.[a-zA-Z]{2,}$/);
},'Your E-mail is wrong');

$.validator.addMethod("pwcheck", function(value) {
return /^[A-Za-z0-9\d=!\-@._*]*$/.test(value) // consists of only these
   && /[a-z]/.test(value) // has a lowercase letter
   && /[A-Z]/.test(value) // has a uppercase letter
   && /\d/.test(value) // has a digit
});
</script>

</html>
